<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CoÈ™ul tÄƒu â€” MSA Handmade</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Doar stiluri sigure, FÄ‚RÄ‚ sÄƒ ating structura pe care o genereazÄƒ script.js */
    .container{max-width:960px;margin:24px auto;padding:0 16px}
    h1{font-size:clamp(28px,4vw,40px);margin:0 0 12px}
    .card{background:#fff;border-radius:16px;box-shadow:0 4px 18px rgba(2,8,23,.06);padding:16px}
    table{width:100%}
    thead th{font-weight:700;text-align:left}
    .actions{display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:12px 16px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;font-weight:600}
    .btn.primary{background:#0b132b;color:#fff;border-color:transparent}
    .btn.danger{background:#fee2e2;color:#991b1b;border-color:#fecaca}
    .totals{display:grid;gap:8px}
    .row{display:flex;justify-content:space-between}
    .grand{font-weight:900;font-size:22px}

    /* FÄƒrÄƒ sÄƒ presupun clase â€“ doar â€Ã®mbunÄƒtÄƒÈ›imâ€ butoanele de cantitate dacÄƒ existÄƒ */
    #cart-items button{min-width:40px;min-height:40px;border-radius:10px;font-weight:800}
    #cart-items input[type="number"]{height:40px;min-width:60px;text-align:center;border-radius:10px}
  </style>
</head>
<body>

  <!-- Nav scurt (nu afecteazÄƒ scriptul) -->
  <header class="container" style="display:flex;align-items:center;justify-content:space-between;padding:12px 0">
    <nav style="display:flex;gap:22px;font-weight:700">
      <a href="index.html">AcasÄƒ</a>
      <a href="produse.html">Produse</a>
      <a href="despre.html">Despre</a>
      <a href="contact.html">Contact</a>
    </nav>
    <a href="cos.html" aria-label="CoÈ™">ğŸ›’ <span id="cart-count">0</span></a>
  </header>

  <main class="container">
    <h1>CoÈ™ul tÄƒu</h1>

    <section class="card">
      <table aria-label="Produse Ã®n coÈ™">
        <thead>
          <tr>
            <th>Produs</th>
            <th style="text-align:center">Cant.</th>
            <th style="text-align:right">Total</th>
          </tr>
        </thead>
        <tbody id="cart-items">
          <tr><td colspan="3">Se Ã®ncarcÄƒâ€¦</td></tr>
        </tbody>
      </table>

      <div class="actions" style="margin-top:10px">
        <button id="empty-cart" class="btn danger">GoleÈ™te coÈ™ul</button>
        <a href="produse.html" class="btn">ContinuÄƒ cumpÄƒrÄƒturile</a>
      </div>
    </section>

    <aside class="card" style="margin-top:16px">
      <h2>Totaluri</h2>
      <div class="totals">
        <div class="row"><span>Subtotal</span><span id="subtotal">0.00 RON</span></div>
        <div class="row"><span>Reducere</span><span id="discount">âˆ’ 0.00 RON</span></div>
        <div class="row"><span>Livrare</span><span id="shipping">0.00 RON</span></div>
        <hr />
        <div class="row grand"><span>Total</span><span id="grand-total">0.00 RON</span></div>
      </div>
    </aside>

    <!-- FORMULAR â€” ID-urile/numelor rÄƒmÃ¢n exact cum le foloseÈ™te scriptul -->
    <section class="card" style="margin-top:16px">
      <h2>Detalii pentru livrare</h2>

      <form id="order-form">
        <div style="display:flex;gap:18px;margin-bottom:10px">
          <label><input id="tip_pf" type="radio" name="tip" value="pf" checked> PersoanÄƒ fizicÄƒ</label>
          <label><input id="tip_pj" type="radio" name="tip" value="pj"> PersoanÄƒ juridicÄƒ</label>
        </div>

        <div id="pf_fields">
          <input id="nume"     name="nume"     placeholder="Nume" required>
          <input id="prenume"  name="prenume"  placeholder="Prenume" required>
        </div>

        <div id="pj_fields" style="display:none">
          <input id="firma" name="firma" placeholder="Denumire firmÄƒ">
          <input id="cui"   name="cui"   placeholder="CUI">
          <input id="reg"   name="reg"   placeholder="Nr. Reg. ComerÈ›">
        </div>

        <input id="email"   name="email"   placeholder="Email" required>
        <input id="telefon" name="telefon" placeholder="Telefon" required>
        <input id="judet"   name="judet"   placeholder="JudeÈ›" required>
        <input id="oras"    name="oras"    placeholder="OraÈ™" required>
        <input id="adresa"  name="adresa"  placeholder="AdresÄƒ completÄƒ" required>
        <input id="zip"     name="zip"     placeholder="Cod poÈ™tal">
        <textarea id="mentiuni" name="mentiuni" placeholder="MenÈ›iuni (opÈ›ional)"></textarea>

        <button id="place-order" type="submit" class="btn primary" style="width:100%;margin-top:12px">PlaseazÄƒ comanda</button>
      </form>
    </section>
  </main>

  <footer class="container" style="text-align:center;margin:28px 0;color:#6b7280">
    Â© <span id="year"></span> â€” MSA Handmade. Toate drepturile rezervate.
  </footer>

  <!-- EXACT cum ai Ã®nainte -->
  <script src="script.js"></script>

  <!-- Doar utilitÄƒÈ›i: anul din footer, PF/PJ toggle, blocare dublu-submit (nu atinge cart-ul) -->
  <script>
    // anul
    (function(){const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();})();

    // PF / PJ
    (function(){
      const pf=document.getElementById('tip_pf'), pj=document.getElementById('tip_pj');
      const pfBox=document.getElementById('pf_fields'), pjBox=document.getElementById('pj_fields');
      const firma=document.getElementById('firma'), cui=document.getElementById('cui'), reg=document.getElementById('reg');
      function setMode(mode){
        const isPJ=(mode==='pj');
        pjBox.style.display = isPJ ? 'block' : 'none';
        pfBox.style.display = isPJ ? 'none'  : 'block';
        [firma,cui,reg].forEach(el=>{ if(el) el.required=isPJ; });
      }
      pf?.addEventListener('change',()=>setMode('pf'));
      pj?.addEventListener('change',()=>setMode('pj'));
    })();

    // blocare dublu-submit
    (function(){
      const form=document.getElementById('order-form');
      const btn=document.getElementById('place-order');
      if(!form||!btn) return;
      let sent=false;
      form.addEventListener('submit',function(e){
        if(sent){ e.preventDefault(); return false; }
        sent=true; btn.disabled=true; btn.textContent='Se trimite...';
      },{capture:true});
    })();
  </script>
</body>
</html>
