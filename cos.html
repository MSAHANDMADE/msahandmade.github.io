<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CoÈ™ â€“ MSA Handmade</title>
  <link rel="canonical" href="https://www.msahandmade.ro/cos.html" />
  <meta property="og:type" content="website">
  <meta property="og:title" content="CoÈ™ â€“ MSA Handmade">
  <meta property="og:image" content="https://www.msahandmade.ro/logo.png">
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* ===== HOTFIX COÈ˜ & CANTITATE ===== */
    .cart-table{width:100%;table-layout:fixed;border-collapse:collapse}
    .cart-table th,.cart-table td{
      writing-mode:horizontal-tb!important;white-space:normal;word-break:break-word;
      vertical-align:middle;padding:10px
    }
    .cart-table th{text-align:left}
    .cart-table td.col-total{text-align:right}
    .qty{display:inline-flex;align-items:center;border:1px solid #ddd;border-radius:10px;overflow:hidden;background:#fff}
    .qty button{width:36px;height:36px;font-size:20px;line-height:1;border:0;background:#fff;cursor:pointer}
    .qty input{width:48px;height:36px;border:0;text-align:center;font-size:16px;background:#fff}
    @media (max-width:480px){.qty button{width:32px;height:32px;font-size:18px}.qty input{width:40px;height:32px;font-size:15px}}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script> (function(){ emailjs.init("iSadfb7-TV_89l_6k"); })(); </script>
</head>
<body>
  <header class="header">
    <nav class="nav">
      <a href="index.html">AcasÄƒ</a>
      <a href="produse.html">Produse</a>
      <a href="despre.html">Despre</a>
      <a href="contact.html">Contact</a>
      <a href="cos.html" class="cart">ðŸ›’ <span id="cart-count">0</span></a>
    </nav>
  </header>

  <main class="container">
    <h1>CoÈ™ul tÄƒu</h1>

    <!-- Tabel coÈ™ -->
    <section class="box">
      <table class="cart-table">
        <thead>
          <tr>
            <th>Produs</th>
            <th>PreÈ›</th>
            <th>Cant.</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="cart-body"><!-- din JS --></tbody>
      </table>

      <button id="clear-cart" class="btn-secondary" style="margin-top:12px">GoleÈ™te coÈ™ul</button>
      <p class="muted" style="margin-top:12px">* Produsele sunt realizate manual â€” pot exista mici variaÈ›ii.</p>
    </section>

    <!-- Totaluri -->
    <aside class="box">
      <h2>Totaluri</h2>
      <div class="row"><span>Subtotal</span><b id="t-sub">0 RON</b></div>
      <div class="row"><span>Reducere</span><b id="t-disc">0 RON</b></div>
      <div class="row"><span>Livrare</span><b id="t-ship">17 RON</b></div>
      <div class="row big"><span>Total</span><b id="t-total">0 RON</b></div>

      <div class="muted" style="margin-top:10px">
        Reduceri automate: â‰¥200 RON â€“10%, â‰¥300 RON â€“15%, â‰¥400 RON â€“20%.<br>
        <b>Livrare gratuitÄƒ de la 300 RON</b> (chiar dacÄƒ se aplicÄƒ reducere).
      </div>
    </aside>

    <!-- Formular livrare -->
    <section class="box" style="margin-top:16px">
      <h2>Detalii pentru livrare</h2>
      <form id="checkout-form">
        <fieldset>
          <legend>Tip client</legend>
          <label><input type="radio" name="tip" value="PersoanÄƒ fizicÄƒ" checked> PersoanÄƒ fizicÄƒ</label>
          &nbsp;&nbsp;
          <label><input type="radio" name="tip" value="PersoanÄƒ juridicÄƒ"> PersoanÄƒ juridicÄƒ</label>
        </fieldset>

        <!-- PF -->
        <div id="pf-fields">
          <div class="grid">
            <label>Nume*
              <input type="text" id="pf-nume" required>
            </label>
            <label>Prenume*
              <input type="text" id="pf-prenume" required>
            </label>
          </div>
          <div class="grid">
            <label>Email*
              <input type="email" id="pf-email" required>
            </label>
            <label>Telefon*
              <input type="tel" id="pf-telefon" required>
            </label>
          </div>
          <div class="grid">
            <label>JudeÈ›*
              <input type="text" id="pf-judet" required>
            </label>
            <label>OraÈ™*
              <input type="text" id="pf-oras" required>
            </label>
          </div>
          <div class="grid">
            <label>Cod poÈ™tal*
              <input type="text" id="pf-codpostal" required>
            </label>
            <label>AdresÄƒ*
              <input type="text" id="pf-adresa" required>
            </label>
          </div>
        </div>

        <!-- PJ -->
        <div id="pj-fields" style="display:none">
          <div class="grid">
            <label>FirmÄƒ*
              <input type="text" id="pj-firma" >
            </label>
            <label>CUI*
              <input type="text" id="pj-cui" >
            </label>
          </div>
          <div class="grid">
            <label>Email*
              <input type="email" id="pj-email" >
            </label>
            <label>Telefon*
              <input type="tel" id="pj-telefon" >
            </label>
          </div>
          <div class="grid">
            <label>JudeÈ›*
              <input type="text" id="pj-judet" >
            </label>
            <label>OraÈ™*
              <input type="text" id="pj-oras" >
            </label>
          </div>
          <div class="grid">
            <label>Cod poÈ™tal*
              <input type="text" id="pj-codpostal" >
            </label>
            <label>AdresÄƒ*
              <input type="text" id="pj-adresa" >
            </label>
          </div>
        </div>

        <label style="display:block;margin-top:8px">MenÈ›iuni (opÈ›ional)
          <textarea id="mentiuni" rows="3" placeholder="Ex: interval livrare, observaÈ›ii"></textarea>
        </label>

        <button type="submit" class="btn-main" style="margin-top:12px">ConfirmÄƒ comanda</button>
      </form>
    </section>
  </main>

  <footer class="footer">
    <small>&copy; <span id="year"></span> â€” MSA Handmade.</small>
  </footer>

  <script src="cart.js"></script>
  <script>
    // Badge coÈ™ (nu se pierde)
    try{
      const list = JSON.parse(localStorage.getItem('msa_cart')||'[]');
      const count = list.reduce((s,i)=>s + (i.qty||1), 0);
      const el = document.getElementById('cart-count');
      if(el) el.textContent = count;
    }catch(e){}
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
