<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Produsele noastre â€“ MSA Handmade</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .promo{background:#0f3f2d;color:#fff;text-align:center;padding:8px 12px}
    .promo b{color:#ffd85e}
    .header{display:flex;justify-content:space-between;align-items:center;padding:10px 16px}
    .nav a{margin-right:14px;color:#222;text-decoration:none;font-weight:700}
    .cart-badge{font-weight:900;text-decoration:none}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
    .card{background:#fff;border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.06);overflow:hidden;display:flex;flex-direction:column}
    .card-img{width:100%;aspect-ratio:16/11;object-fit:cover;cursor:pointer;background:#f4f4f4}
    .card-body{padding:14px 16px;display:flex;flex-direction:column;gap:8px}
    .card-title{font-weight:800;line-height:1.2}
    .muted{color:#666}
    .card-price{margin-top:2px;font-weight:900}
    .btn{background:#0f7c2a;color:#fff;border:none;border-radius:12px;padding:12px 14px;font-weight:700;cursor:pointer}
    .btn:hover{filter:brightness(1.03)}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;pointer-events:none;display:flex;align-items:center;justify-content:center;padding:16px;transition:.2s}
    .modal.show{opacity:1;pointer-events:auto}
    .modal-box{background:#fff;max-width:720px;width:100%;border-radius:16px;overflow:hidden;box-shadow:0 16px 48px rgba(0,0,0,.25)}
    .modal-head{display:flex;justify-content:space-between;gap:12px;align-items:center;padding:14px 16px;border-bottom:1px solid #eee}
    .modal-box img{width:100%;max-height:420px;object-fit:cover;background:#f4f4f4}
    .modal-box .inner{padding:14px 16px}
    .modal-actions{display:flex;justify-content:space-between;align-items:center;margin-top:10px;gap:12px}
  </style>
</head>
<body>
  <div class="promo">Reduceri pÃ¢nÄƒ la <b>-20%</b> â€¢ Livrare gratuitÄƒ de la <b>300 RON</b></div>

  <header class="header">
    <nav class="nav">
      <a href="index.html">AcasÄƒ</a>
      <a href="produse.html">Produse</a>
      <a href="despre.html">Despre</a>
      <a href="contact.html">Contact</a>
    </nav>
    <a class="cart-badge" href="cos.html">ðŸ›’ <span id="cart-count">0</span></a>
  </header>

  <main class="container">
    <h1>Produsele noastre</h1>
    <div id="prod-grid" class="grid"></div>
  </main>

  <!-- Modal produs -->
  <div id="prod-modal" class="modal" onclick="if(event.target===this)closeModal()">
    <div class="modal-box">
      <div class="modal-head">
        <h3 id="m-title" style="margin:0"></h3>
        <button class="btn" style="background:#444" onclick="closeModal()">ÃŽnchide</button>
      </div>
      <img id="m-img" alt="">
      <div class="inner">
        <div id="m-extra" class="muted"></div>
        <div class="modal-actions">
          <div id="m-price" style="font-weight:900"></div>
          <button id="m-add" class="btn">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  /* ==== CoÈ™ badge ==== */
  const CART_KEY="msa_cart";
  const getCart=()=>{try{return JSON.parse(localStorage.getItem(CART_KEY))||[]}catch(e){return[]}};
  const setCart=v=>{localStorage.setItem(CART_KEY,JSON.stringify(v));updateBadge()};
  const updateBadge=()=>{const c=getCart().reduce((s,i)=>s+(i.qty||0),0);const el=document.getElementById("cart-count");if(el)el.textContent=c};
  const addToCart=(p,qty=1)=>{const cart=getCart();const i=cart.findIndex(x=>x.id===p.id);if(i>=0)cart[i].qty+=qty;else cart.push({id:p.id,nume:p.nume,pret:p.pret,img:p.img,qty:qty});setCart(cart)};

  /* ===== PRODUSE (doar ce ai cerut) ===== */
  const P=({
    coronita:(nume,img)=>({tip:"coronita",nume,pret:35,img,extra:"Diametru ~30 cm"}),
    aran:(nume,img,pret)=>({tip:"aranj",nume,pret,img}), // NU afisez greutate
    lum:(nume,img,pret,gr)=>({tip:"lumanare",nume,pret,img,gr})
  });

  const PRODUSE=[
    // CoroniÈ›e
    {id:"coronita-rosu-auriu",  ...P.coronita("CoroniÈ›Äƒ CrÄƒciun â€“ roÈ™u & auriu","images/coronita1.png")},
    {id:"coronita-alb-argintiu",...P.coronita("CoroniÈ›Äƒ CrÄƒciun â€“ alb & argintiu","images/coronita2.png")},

    // Aranjamente (NU afiÈ™Äƒm greutate): peisaje, Ã®ndrÄƒgostiÈ›ii, floarea-soarelui
    {id:"peisaj",         ...P.aran("Aranjament Peisaj","images/peisaj.jpg",99)},
    {id:"peisaj-iarna",   ...P.aran("Aranjament Peisaj iarnÄƒ","images/peisajiarna.jpg",99)},
    {id:"indragostitii",  ...P.aran("Aranjament ÃŽndrÄƒgostiÈ›ii","images/indragostitii.jpg",99)},
    {id:"floarea-soarelui",...P.aran("Aranjament Floarea-soarelui","images/lumanare_floarea-soarelui.png",33)},

    // LumÃ¢nÄƒri cu greutÄƒÈ›i exacte
    {id:"buchet", ...P.lum("LumÃ¢nare Buchet","images/buchet.jpg",29,"~150 g")},
    {id:"floricele", ...P.lum("LumÃ¢nare Floricele","images/floricele.png",33,"~50 g")},
    {id:"ingeras", ...P.lum("LumÃ¢nare ÃŽngeraÈ™","images/ingeras.png",33,"~50 g")},
    {id:"dans", ...P.lum("LumÃ¢nare Dans","images/dans.jpg",33,"~200 g")},
    {id:"sarut", ...P.lum("LumÃ¢nare SÄƒrut","images/sarut.jpg",33,"~200 g")},
    {id:"crin", ...P.lum("LumÃ¢nare Crin","images/crin.jpg",33,"~200 g")},
    {id:"isus", ...P.lum("LumÃ¢nare Iisus","images/isus.png",33,"~300 g")},
    {id:"family", ...P.lum("LumÃ¢nare Family","images/family.png",33,"~180 g")},
    {id:"flori", ...P.lum("LumÃ¢nare Flori","images/flori.jpg",33,"")},
    {id:"logodna", ...P.lum("LumÃ¢nare LogodnÄƒ","images/logodna.jpg",33,"")}
  ];

  function card(p,idx){
    const extra = p.extra ? `<div class="muted">${p.extra}</div>` :
                  p.gr ? `<div class="muted">Greutate ${p.gr}</div>` : "";
    return `
      <div class="card">
        <img class="card-img" src="${p.img}" alt="${p.nume}" data-idx="${idx}" onerror="this.src='logo.png'">
        <div class="card-body">
          <div class="card-title">${p.nume}</div>
          ${extra}
          <div class="card-price">${p.pret.toFixed(2)} RON</div>
          <button class="btn" onclick="addToCart(PRODUSE[${idx}],1)">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </div>`;
  }

  function render(){
    const grid=document.getElementById("prod-grid");
    grid.innerHTML=PRODUSE.map((p,i)=>card(p,i)).join("");
    grid.querySelectorAll(".card-img").forEach(img=>{
      img.addEventListener("click",()=>{
        const p=PRODUSE[img.dataset.idx];
        document.getElementById("m-title").textContent=p.nume;
        document.getElementById("m-img").src=p.img;
        const e = p.extra ? p.extra : (p.gr?`Greutate ${p.gr}`:"");
        document.getElementById("m-extra").textContent=e;
        document.getElementById("m-price").textContent=p.pret.toFixed(2)+" RON";
        document.getElementById("m-add").onclick=()=>{addToCart(p,1);closeModal();};
        document.getElementById("prod-modal").classList.add("show");
      });
    });
  }
  function closeModal(){document.getElementById("prod-modal").classList.remove("show")}

  updateBadge();
  render();
  </script>
</body>
</html>
