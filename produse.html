<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Produse â€” MSA Handmade</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .products{display:grid;gap:18px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));padding:16px}
    .card{background:#fff;border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.06);padding:14px}
    .card img{width:100%;height:220px;object-fit:cover;border-radius:12px;cursor:zoom-in}
    .card h3{font-size:18px;margin:10px 0 6px}
    .price{font-weight:700;margin-left:6px}
    .add-to-cart{display:inline-block;background:#111827;color:#fff;border:0;border-radius:10px;padding:10px 14px;cursor:pointer}
  </style>
</head>
<body>
  <header class="header">
    <nav class="nav">
      <a href="index.html">AcasÄƒ</a>
      <a href="produse.html" aria-current="page">Produse</a>
      <a href="contact.html">Contact</a>
      <a href="cos.html" class="cart">ğŸ›’ <span id="cart-count">0</span></a>
    </nav>
  </header>

  <main>
    <h1 style="text-align:center;margin:32px 0;">Produsele noastre</h1>

    <ul class="products">
      <li class="card">
        <img src="images/peisajiarna.jpg" alt="Peisaj de iarnÄƒ">
        <h3>Peisaj de iarnÄƒ <span class="price">99 RON</span></h3>
        <button class="add-to-cart"
          data-id="peisajiarna" data-name="Peisaj de iarnÄƒ"
          data-price="99" data-image="images/peisajiarna.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/peisaj.jpg" alt="Peisaj">
        <h3>Peisaj <span class="price">99 RON</span></h3>
        <button class="add-to-cart"
          data-id="peisaj" data-name="Peisaj"
          data-price="99" data-image="images/peisaj.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/indragostiti.jpg" alt="ÃndrÄƒgostiÈ›i">
        <h3>ÃndrÄƒgostiÈ›i <span class="price">99 RON</span></h3>
        <button class="add-to-cart"
          data-id="indragostiti" data-name="ÃndrÄƒgostiÈ›i"
          data-price="99" data-image="images/indragostiti.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/buchet.jpg" alt="Buchet">
        <h3>Buchet <span class="price">29 RON</span></h3>
        <button class="add-to-cart"
          data-id="buchet" data-name="Buchet"
          data-price="29" data-image="images/buchet.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/crin.jpg" alt="Crin">
        <h3>Crin <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="crin" data-name="Crin"
          data-price="33" data-image="images/crin.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/dans.jpg" alt="Dans">
        <h3>Dans <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="dans" data-name="Dans"
          data-price="33" data-image="images/dans.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/inger.jpg" alt="Ãnger">
        <h3>Ãnger <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="inger" data-name="Ãnger"
          data-price="33" data-image="images/inger.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/logodna.jpg" alt="LogodnÄƒ">
        <h3>LogodnÄƒ <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="logodna" data-name="LogodnÄƒ"
          data-price="33" data-image="images/logodna.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/sarut.jpg" alt="SÄƒrut">
        <h3>SÄƒrut <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="sarut" data-name="SÄƒrut"
          data-price="33" data-image="images/sarut.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/flori.jpg" alt="Flori">
        <h3>Flori <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="flori" data-name="Flori"
          data-price="33" data-image="images/flori.jpg">AdaugÄƒ Ã®n coÈ™</button>
      </li>

      <li class="card">
        <img src="images/lumanare_floarea-soarelui.png" alt="LumÃ¢nare Floarea-Soarelui">
        <h3>LumÃ¢nare Floarea-Soarelui <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="floarea-soarelui" data-name="LumÃ¢nare Floarea-Soarelui"
          data-price="33" data-image="images/lumanare_floarea-soarelui.png">AdaugÄƒ Ã®n coÈ™</button>
      </li>
    </ul>
  </main>

  <footer class="footer" style="text-align:center;margin-top:40px;padding:20px;color:#666;">
    <small>&copy; <span id="year"></span> â€” MSA Handmade.</small>
  </footer>

  <!-- IMPORTANT: coÈ™ -->
  <script src="cart.js"></script>

  <!-- Binding add-to-cart + badge coÈ™ -->
  <script>
    // anul curent
    document.getElementById('year').textContent = new Date().getFullYear();

    // contor coÈ™ la Ã®ncÄƒrcare
    function refreshCartCount(){
      try {
        const list = (window.MSACart && MSACart.readCart) ? MSACart.readCart() : [];
        const count = list.reduce((s,i)=>s+(i.qty||1),0);
        const el = document.getElementById('cart-count');
        if (el) el.textContent = count;
      } catch(_) {}
    }
    refreshCartCount();

    // delegare click pentru toate butoanele .add-to-cart (funcÈ›ioneazÄƒ sigur)
    document.addEventListener('click', function (e) {
      const btn = e.target.closest('.add-to-cart');
      if (!btn) return;
      const d = btn.dataset;
      if (window.MSACart && typeof MSACart.addToCart === 'function') {
        MSACart.addToCart({
          id: d.id,
          name: d.name,
          price: Number(d.price),
          image: d.image
        });
        // feedback + badge
        const old = btn.textContent;
        btn.textContent = 'AdÄƒugat!';
        setTimeout(()=>btn.textContent = old, 900);
        refreshCartCount();
      }
    });
  </script>
</body>
</html>
