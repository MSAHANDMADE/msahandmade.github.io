<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Produse â€” MSA Handmade</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .wrap {max-width:1000px;margin:0 auto;padding:0 16px;}
    header {background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.05);position:sticky;top:0;z-index:10;}
    nav.nav {display:flex;justify-content:space-between;align-items:center;padding:10px 0;}
    nav.nav a {text-decoration:none;color:#222;font-weight:600;margin:0 6px;}
    nav.nav a:hover {color:#0a2230;}
    .cart {display:flex;align-items:center;gap:6px;}
    #cart-count {font-weight:700;}

    main.wrap {margin-top:20px;}
    h1 {font-size:1.8rem;margin-bottom:16px;text-align:center;}

    section.grid {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
      gap:16px;
    }

    .card {
      background:#fff;border-radius:14px;box-shadow:0 4px 14px rgba(0,0,0,.06);
      overflow:hidden;display:flex;flex-direction:column;
      transition:.25s transform;
    }
    .card:hover {transform:translateY(-2px);}
    .card img {width:100%;aspect-ratio:1/1;object-fit:cover;}
    .card .body {padding:10px 14px;display:flex;flex-direction:column;flex:1;}
    .card .top {display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;}
    .card h3 {font-size:1.1rem;margin:0;}
    .card .price {font-weight:700;color:#0a2230;}
    .btn {
      background:#0a2230;color:#fff;border:none;border-radius:10px;
      padding:8px 10px;font-weight:600;cursor:pointer;margin-top:auto;
    }
    .btn:hover {background:#133b55;}
    footer {text-align:center;margin-top:30px;padding:20px;color:#666;font-size:14px;}
  </style>
</head>
<body>

<header>
  <nav class="nav wrap">
    <div>
      <a href="index.html">AcasÄƒ</a>
      <a href="produse.html">Produse</a>
      <a href="contact.html">Contact</a>
    </div>
    <a href="cos.html" class="cart">ðŸ›’ <span id="cart-count">0</span></a>
  </nav>
</header>

<main class="wrap">
  <h1>Produsele noastre</h1>

  <section class="grid">
    <article class="card">
      <img src="images/buchet.jpg" alt="Buchet"/>
      <div class="body">
        <div class="top">
          <h3>Buchet</h3>
          <span class="price">55 RON</span>
        </div>
        <button
          class="btn add-to-cart"
          data-id="buchet"
          data-name="Buchet"
          data-price="55"
          data-image="images/buchet.jpg"
        >AdaugÄƒ Ã®n coÈ™</button>
      </div>
    </article>

    <article class="card">
      <img src="images/crin.jpg" alt="Crin"/>
      <div class="body">
        <div class="top">
          <h3>Crin</h3>
          <span class="price">33 RON</span>
        </div>
        <button
          class="btn add-to-cart"
          data-id="crin"
          data-name="Crin"
          data-price="33"
          data-image="images/crin.jpg"
        >AdaugÄƒ Ã®n coÈ™</button>
      </div>
    </article>

    <article class="card">
      <img src="images/peisaj.jpg" alt="Peisaj de iarnÄƒ"/>
      <div class="body">
        <div class="top">
          <h3>Peisaj de iarnÄƒ</h3>
          <span class="price">99 RON</span>
        </div>
        <button
          class="btn add-to-cart"
          data-id="peisaj"
          data-name="Peisaj de iarnÄƒ"
          data-price="99"
          data-image="images/peisaj.jpg"
        >AdaugÄƒ Ã®n coÈ™</button>
      </div>
    </article>

    <article class="card">
      <img src="images/sarut.jpg" alt="SÄƒrut"/>
      <div class="body">
        <div class="top">
          <h3>SÄƒrut</h3>
          <span class="price">129 RON</span>
        </div>
        <button
          class="btn add-to-cart"
          data-id="sarut"
          data-name="SÄƒrut"
          data-price="129"
          data-image="images/sarut.jpg"
        >AdaugÄƒ Ã®n coÈ™</button>
      </div>
    </article>
  </section>
</main>

<footer class="wrap">
  <small>&copy; <span id="year"></span> â€” MSA Handmade.</small>
</footer>

<!-- CoÈ™ul -->
<script src="cart.js"></script>

<!-- Script butoane -->
<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  function bindCartButtons(){
    document.querySelectorAll('.add-to-cart').forEach(btn=>{
      if (btn.dataset.bound) return;
      btn.dataset.bound = "1";
      btn.addEventListener('click', (e)=>{
        e.preventDefault(); e.stopPropagation();
        if (!window.MSACart || !MSACart.addToCart) { alert('CoÈ™ indisponibil'); return; }
        MSACart.addToCart({
          id: btn.dataset.id,
          name: btn.dataset.name,
          price: Number(btn.dataset.price),
          image: btn.dataset.image
        });
        const old = btn.textContent;
        btn.textContent = 'AdÄƒugat!';
        setTimeout(()=> btn.textContent = old, 900);
      }, {passive:false});
    });
  }

  // ruleazÄƒ imediat
  bindCartButtons();
  // ruleazÄƒ È™i la DOMContentLoaded
  document.addEventListener('DOMContentLoaded', bindCartButtons);
  // fallback Ã®n caz cÄƒ se Ã®ncarcÄƒ mai lent cart.js
  setTimeout(bindCartButtons, 200);
</script>

</body>
</html>
