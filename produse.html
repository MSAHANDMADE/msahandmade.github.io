<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produse â€” MSA Handmade</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* compactÄƒm meniul pe mobil */
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px}
    .nav a{margin:0 8px}
    .wrap{max-width:980px;margin:0 auto;padding:0 16px}
    h1{font-size:clamp(28px,4.5vw,48px);margin:18px 0}
    /* cards */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    .card{grid-column:span 12; background:#fff;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.06);overflow:hidden}
    @media (min-width:680px){ .card{grid-column:span 6} }
    .thumb{width:100%;aspect-ratio:4/3;object-fit:cover;display:block}
    .body{padding:12px}
    .top{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .price{font-weight:700}
    .btn{width:100%;margin-top:10px;padding:12px;border:0;border-radius:10px;background:#0a2230;color:#fff;font-weight:700}
    /* lightbox */
    .lb{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:50}
    .lb img{max-width:92vw;max-height:85vh;border-radius:12px}
    .lb.show{display:flex}
    /* mic badge pt confirmare (fÄƒrÄƒ alert) */
    .toast{position:fixed;left:50%;bottom:22px;transform:translateX(-50%);background:#0a2230;color:#fff;padding:10px 14px;border-radius:999px;font-weight:700;opacity:0;pointer-events:none;transition:.25s}
    .toast.show{opacity:1}
  </style>
</head>
<body>
  <header class="nav">
    <div>
      <a href="index.html">AcasÄƒ</a>
      <a href="produse.html"><strong>Produse</strong></a>
      <a href="contact.html">Contact</a>
    </div>
    <a href="cos.html">ðŸ›’ <span id="cart-count">0</span></a>
  </header>

  <main class="wrap">
    <h1>Produsele noastre</h1>

    <section class="grid" id="prod-list">
      <!-- Buchet 29 -->
      <article class="card">
        <img class="thumb" src="images/buchet.jpg" data-full="images/buchet.jpg" alt="Buchet" loading="lazy" />
        <div class="body">
          <div class="top"><h3>Buchet</h3><span class="price">29 RON</span></div>
          <button class="btn add-to-cart"
            data-id="buchet" data-name="Buchet" data-price="29" data-image="images/buchet.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- Crin 33 -->
      <article class="card">
        <img class="thumb" src="images/crin.jpg" data-full="images/crin.jpg" alt="Crin" loading="lazy" />
        <div class="body">
          <div class="top"><h3>Crin</h3><span class="price">33 RON</span></div>
          <button class="btn add-to-cart"
            data-id="crin" data-name="Crin" data-price="33" data-image="images/crin.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- Fluture 33 -->
      <article class="card">
        <img class="thumb" src="images/fluture.jpg" data-full="images/fluture.jpg" alt="Fluture" loading="lazy" />
        <div class="body">
          <div class="top"><h3>Fluture</h3><span class="price">33 RON</span></div>
          <button class="btn add-to-cart"
            data-id="fluture" data-name="Fluture" data-price="33" data-image="images/fluture.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- ÃŽngeraÈ™ 33 -->
      <article class="card">
        <img class="thumb" src="images/ingeras.jpg" data-full="images/ingeras.jpg" alt="ÃŽngeraÈ™" loading="lazy" />
        <div class="body">
          <div class="top"><h3>ÃŽngeraÈ™</h3><span class="price">33 RON</span></div>
          <button class="btn add-to-cart"
            data-id="ingeras" data-name="ÃŽngeraÈ™" data-price="33" data-image="images/ingeras.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- Dans 33 -->
      <article class="card">
        <img class="thumb" src="images/dans.jpg" data-full="images/dans.jpg" alt="Dans" loading="lazy" />
        <div class="body">
          <div class="top"><h3>Dans</h3><span class="price">33 RON</span></div>
          <button class="btn add-to-cart"
            data-id="dans" data-name="Dans" data-price="33" data-image="images/dans.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- SÄƒrut 33 -->
      <article class="card">
        <img class="thumb" src="images/sarut.jpg" data-full="images/sarut.jpg" alt="SÄƒrut" loading="lazy" />
        <div class="body">
          <div class="top"><h3>SÄƒrut</h3><span class="price">33 RON</span></div>
          <button class="btn add-to-cart"
            data-id="sarut" data-name="SÄƒrut" data-price="33" data-image="images/sarut.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- Peisaj 99 -->
      <article class="card">
        <img class="thumb" src="images/peisaj.jpg" data-full="images/peisaj.jpg" alt="Peisaj" loading="lazy" />
        <div class="body">
          <div class="top"><h3>Peisaj</h3><span class="price">99 RON</span></div>
          <button class="btn add-to-cart"
            data-id="peisaj" data-name="Peisaj" data-price="99" data-image="images/peisaj.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- Peisaj de iarnÄƒ 99 -->
      <article class="card">
        <img class="thumb" src="images/peisaj_iarna.jpg" data-full="images/peisaj_iarna.jpg" alt="Peisaj de iarnÄƒ" loading="lazy" />
        <div class="body">
          <div class="top"><h3>Peisaj de iarnÄƒ</h3><span class="price">99 RON</span></div>
          <button class="btn add-to-cart"
            data-id="peisaj_iarna" data-name="Peisaj de iarnÄƒ" data-price="99" data-image="images/peisaj_iarna.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>

      <!-- ÃŽndrÄƒgostiÈ›i 99 (un singur i la final Ã®n fiÈ™ier) -->
      <article class="card">
        <img class="thumb" src="images/indragostiti.jpg" data-full="images/indragostiti.jpg" alt="ÃŽndrÄƒgostiÈ›i" loading="lazy" />
        <div class="body">
          <div class="top"><h3>ÃŽndrÄƒgostiÈ›i</h3><span class="price">99 RON</span></div>
          <button class="btn add-to-cart"
            data-id="indragostiti" data-name="ÃŽndrÄƒgostiÈ›i" data-price="99" data-image="images/indragostiti.jpg">AdaugÄƒ Ã®n coÈ™</button>
        </div>
      </article>
    </section>
  </main>

  <!-- Lightbox -->
  <div id="lb" class="lb" role="dialog" aria-label="Preview imagine">
    <img alt="" />
  </div>
  <div id="toast" class="toast">Produs adÄƒugat!</div>

  <script src="cart.js"></script>
  <script>
    // lightbox on tap
    const lb = document.getElementById('lb');
    const lbImg = lb.querySelector('img');
    document.addEventListener('click', (e)=>{
      const t = e.target;
      if (t.classList.contains('thumb')) {
        lbImg.src = t.dataset.full || t.src; lb.classList.add('show');
      }
      if (t === lb) lb.classList.remove('show');
    });

    // un singur binding, dupÄƒ ce MSACart e gata
    function bindButtons(){
      const list = document.querySelectorAll('.add-to-cart');
      list.forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          e.preventDefault();
          if (!window.MSACart){ return alert('CoÈ™ indisponibil'); }
          MSACart.addToCart({
            id: btn.dataset.id,
            name: btn.dataset.name,
            price: Number(btn.dataset.price || 0),
            image: btn.dataset.image
          });
          const t = document.getElementById('toast'); t.classList.add('show');
          setTimeout(()=>t.classList.remove('show'), 900);
        }, {once:false});
      });
    }
    // aÈ™teptÄƒm MSACart
    const wait = setInterval(()=>{
      if (window.MSACart){ clearInterval(wait); bindButtons(); MSACart.updateCartCountBadge?.(); }
    }, 60);
  </script>
</body>
</html>
