<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Produse — MSA Handmade</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="nav">
    <button class="menu-toggle" aria-label="Deschide meniul">☰</button>
    <nav class="nav">
      <a href="index.html">Acasă</a>
      <a href="produse.html" aria-current="page">Produse</a>
      <a href="cos.html" class="cart">Coș <span id="cart-count">0</span></a>
    </nav>
  </header>

  <!-- Coș mic dreapta sus -->
  <a class="fab-cart" href="cos.html" id="fab-cart" aria-label="Deschide coșul">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
       stroke-linecap="round" stroke-linejoin="round">
      <circle cx="9" cy="21" r="1"></circle>
      <circle cx="20" cy="21" r="1"></circle>
      <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
    </svg>
    <span class="badge" id="cart-count-fab">0</span>
  </a>

  <main class="container">
    <h2 class="section-title">Produse</h2>
    <ul class="product-list">

      <!-- Peisaj de iarnă -->
      <li class="card">
        <img src="images/images.peisajiarna.jpg" alt="Peisaj de iarnă">
        <h3>Peisaj de iarnă <span class="price">99 RON</span></h3>
        <button class="add-to-cart"
          data-id="peisajiarna"
          data-name="Peisaj de iarnă"
          data-price="99"
          data-image="images/images.peisajiarna.jpg">Adaugă în coș</button>
      </li>

      <!-- Peisaj -->
      <li class="card">
        <img src="images/images_peisaj.jpg" alt="Peisaj">
        <h3>Peisaj <span class="price">99 RON</span></h3>
        <button class="add-to-cart"
          data-id="peisaj"
          data-name="Peisaj"
          data-price="99"
          data-image="images/images_peisaj.jpg">Adaugă în coș</button>
      </li>

      <!-- Îndrăgostiți -->
      <li class="card">
        <img src="images/images.indragostiti.jpg" alt="Îndrăgostiți">
        <h3>Îndrăgostiți <span class="price">99 RON</span></h3>
        <button class="add-to-cart"
          data-id="indragostiti"
          data-name="Îndrăgostiți"
          data-price="99"
          data-image="images/images.indragostiti.jpg">Adaugă în coș</button>
      </li>

      <!-- Buchet -->
      <li class="card">
        <img src="images/images_buchet.jpg" alt="Buchet">
        <h3>Buchet <span class="price">29 RON</span></h3>
        <button class="add-to-cart"
          data-id="buchet"
          data-name="Buchet"
          data-price="29"
          data-image="images/images_buchet.jpg">Adaugă în coș</button>
      </li>

      <!-- Exemplu rest produse 33 RON -->
      <li class="card">
        <img src="images/images.crin.jpg" alt="Crin">
        <h3>Crin <span class="price">33 RON</span></h3>
        <button class="add-to-cart"
          data-id="crin"
          data-name="Crin"
          data-price="33"
          data-image="images/images.crin.jpg">Adaugă în coș</button>
      </li>

    </ul>
  </main>

  <script src="script.js"></script>
  <script src="cart.js"></script>

  <script>
    // Forțează click pe icon coș
    function goCart(e){ e?.preventDefault?.(); location.href = "./cos.html"; }
    document.getElementById("fab-cart")?.addEventListener("click", goCart);

    // Legăm butoanele de coș
    function bindAddButtons(){
      document.querySelectorAll(".add-to-cart").forEach(btn=>{
        if(btn._msaBound) return;
        btn._msaBound = true;
        btn.addEventListener("click", function(){
          const d = this.dataset;
          window.MSACart.addToCart({
            id: d.id,
            name: d.name,
            price: Number(d.price),
            image: d.image
          });
          const old=this.textContent;
          this.disabled=true; this.textContent="Adăugat!";
          setTimeout(()=>{this.textContent=old;this.disabled=false;},900);
        });
      });
    }
    document.addEventListener("DOMContentLoaded",bindAddButtons);
  </script>
</body>
</html>
