<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produse â€” MSA Handmade</title>

  <!-- SEO -->
  <meta name="description" content="LumÃ¢nÄƒri È™i decoraÈ›iuni artizanale MSA Handmade â€“ produse din cearÄƒ È™i ipsos, realizate manual Ã®n RomÃ¢nia. DescoperÄƒ coroniÈ›e, lumÃ¢nÄƒri È™i decoruri unicat.">
  <link rel="canonical" href="https://www.msahandmade.ro/produse.html">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.msahandmade.ro/produse.html">
  <meta property="og:title" content="Produse â€” MSA Handmade">
  <meta property="og:description" content="DescoperÄƒ colecÈ›ia noastrÄƒ de lumÃ¢nÄƒri È™i decoraÈ›iuni realizate manual.">
  <meta property="og:image" content="https://www.msahandmade.ro/images/logo.png">

  <link rel="stylesheet" href="styles.css?v=4" />

  <style>
    /* ====== Stiluri locale pentru pagina Produse ====== */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    .card{grid-column:span 12;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.06);overflow:hidden}
    @media(min-width:720px){.card{grid-column:span 6}}
    @media(min-width:1024px){.card{grid-column:span 4}}

    /* Imagine Ã®n listÄƒ â€“ nu se mai taie */
    .thumb, .card-img{
      width:100%;
      aspect-ratio:4/3;
      object-fit:contain;
      display:block;
      background:#fff;
      padding:6px;
      border-radius:8px;
      cursor:pointer;
      transition:transform .15s ease;
    }
    .thumb:hover{transform:scale(1.02)}

    .body{padding:12px 14px}
    .top{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .price{font-weight:700}
    .desc{font-size:.92rem;color:#555;margin-top:6px;min-height:48px}

    /* ===== CÄƒutare (opÈ›ional) ===== */
    .search-wrap{position:relative;margin:10px 0 20px}
    .search-input{width:100%;padding:12px 14px;border:1px solid #ddd;border-radius:12px;font-size:16px}
    .suggest{position:absolute;top:46px;left:0;right:0;background:#fff;border:1px solid #ddd;border-top:none;border-radius:0 0 12px 12px;box-shadow:0 12px 24px rgba(0,0,0,.06);z-index:20;overflow:hidden}
    .suggest.hidden{display:none}
    .suggest-item{padding:10px 14px;border-top:1px solid #f0f0f0;cursor:pointer}
    .suggest-item:hover{background:#f6faff}

    /* ===== Pop-up (modal) â€“ FIX complet ===== */
    .modal{
      position:fixed; inset:0; background:rgba(0,0,0,.5);
      display:none; align-items:center; justify-content:center; padding:12px; z-index:100;
    }
    .modal.open{ display:flex; }
    .modal-card{ background:#fff; max-width:840px; width:100%; border-radius:14px; overflow:hidden; box-shadow:0 20px 40px rgba(0,0,0,.25); max-height:90vh; }
    .modal-media{ background:#fff; display:grid; place-items:center; padding:8px; }
    .modal-media img{
      max-width:100%; max-height:72vh; width:auto; height:auto; object-fit:contain;
    }
    .modal-body{ padding:16px; display:grid; gap:10px }
    .modal-top{ display:flex; justify-content:space-between; align-items:center; gap:10px }
    .modal-title{ font-weight:800; font-size:1.2rem }
    .modal-close{ border:0; background:#f1f1f1; border-radius:10px; padding:8px 12px; cursor:pointer }
    #m-desc{ color:#444; font-size:1rem; line-height:1.5; text-align:center; margin:10px 0; font-style:italic; }
    #m-specs{ text-align:center; font-size:.95rem; color:#666; margin-bottom:10px; }
  </style>

  <script src="cart.js?v=4" defer></script>
</head>

<body>
  <div class="promo">Reduceri pÃ¢nÄƒ la <b>-20%</b> Â· Livrare gratuitÄƒ de la <b>300 RON</b></div>

  <header class="header">
    <nav id="main-nav" class="wrap">
      <div class="left">
        <a href="index.html">AcasÄƒ</a>
        <a href="produse.html" class="active"><strong>Produse</strong></a>
        <a href="despre.html">Despre</a>
        <a href="contact.html">Contact</a>
      </div>
      <a href="cos.html" class="cart-pill">ðŸ›’ <span id="cart-count">0</span></a>
    </nav>
  </header>

  <main class="wrap">
    <h1>Produsele noastre</h1>

    <div class="search-wrap">
      <input id="search" class="search-input" type="search" placeholder="CautÄƒ un produsâ€¦" autocomplete="off">
      <div id="suggest" class="suggest hidden"></div>
    </div>

    <section class="grid" id="prod-list"></section>
  </main>

  <footer class="footer">
    <small>&copy; <span id="year"></span> â€“ MSA Handmade. Toate drepturile rezervate.</small>
    <nav class="legal-nav">
      <a href="termeni.html">Termeni & CondiÈ›ii</a> Â·
      <a href="confidentialitate.html">ConfidenÈ›ialitate</a> Â·
      <a href="cookies.html">Cookies</a> Â·
      <a href="retur.html">Retur</a>
    </nav>
  </footer>

  <!-- ===== Modal produs ===== -->
  <div class="modal" id="prod-modal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-media"><img id="m-img" src="" alt=""></div>
      <div class="modal-body">
        <div class="modal-top">
          <div class="modal-title" id="m-title"></div>
          <button class="modal-close" id="m-close">ÃŽnchide âœ•</button>
        </div>
        <p id="m-desc"></p>
        <div id="m-specs"></div>
        <p style="font-weight:800;margin:.5rem 0">PreÈ›: <span id="m-price"></span></p>
        <button class="btn btn-primary" id="m-add">AdaugÄƒ Ã®n coÈ™</button>
      </div>
    </div>
  </div>

  <script>
    // ===== PRODUSE (cu preÈ›uri + specificaÈ›ii) =====
    const PRODUCTS = [
      { id:'coronita1', name:'CoroniÈ›Äƒ CrÄƒciun â€“ roÈ™u & auriu', price:35, image:'images/coronita1.png',
        desc:'StrÄƒlucire caldÄƒ de sÄƒrbÄƒtoare: accente roÈ™ii È™i aurii.',
        specs:{ material:'Mix decor + lumini', size:'Ã˜ 30 cm', weight:'~200 g', notes:'luminÄƒ alb cald' } },
      { id:'coronita2', name:'CoroniÈ›Äƒ CrÄƒciun â€“ albastru & argintiu', price:35, image:'images/coronita2.png',
        desc:'EleganÈ›Äƒ iernaticÄƒ Ã®n tonuri reci.',
        specs:{ material:'Mix decor + lumini', size:'Ã˜ 30 cm', weight:'~200 g', notes:'baterii incluse' } },

      { id:'ingeras', name:'ÃŽngeraÈ™', price:5, image:'images/ingeras.png',
        desc:'Mic protector turnat manual.',
        specs:{ material:'CearÄƒ', size:'7 Ã— 3 cm', weight:'~30 g' } },
      { id:'floricele', name:'Floricele', price:5, image:'images/floricele.png',
        desc:'Floricele din cearÄƒ â€“ accente vesele.',
        specs:{ material:'CearÄƒ', size:'4 Ã— 3 cm', weight:'~25 g' } },
      { id:'family', name:'Family', price:11, image:'images/family.png',
        desc:'Simbol al armoniei.',
        specs:{ material:'CearÄƒ', size:'9 Ã— 4 cm', weight:'~60 g' } },

      { id:'isus', name:'Iisus', price:33, image:'images/isus.png',
        desc:'Detalii sculptate manual.',
        specs:{ material:'CearÄƒ', size:'11 Ã— 7 cm', weight:'~300 g' } },
      { id:'buchet', name:'Buchet', price:29, image:'images/buchet.jpg',
        desc:'Flori din cearÄƒ pe tijÄƒ â€“ graÈ›ioase.',
        specs:{ material:'CearÄƒ', size:'H 20 cm, L 3.5 cm', weight:'~120 g' } },
      { id:'crin', name:'Crin', price:33, image:'images/crin.jpg',
        desc:'Rafinament pentru orice decor.',
        specs:{ material:'CearÄƒ', size:'9.5 Ã— 6.5 cm', weight:'~200 g' } },
      { id:'dans', name:'Dans', price:33, image:'images/dans.jpg',
        desc:'Siluete Ã®n miÈ™care â€“ poveste de iubire.',
        specs:{ material:'CearÄƒ', size:'10 Ã— 6.5 cm', weight:'~200 g' } },
      { id:'flori', name:'Flori (suport ipsos)', price:33, image:'images/flori.jpg',
        desc:'LumÃ¢nare pe suport de ipsos.',
        specs:{ material:'CearÄƒ + ipsos', size:'Ã˜ 7 Ã— 5 cm', weight:'~100 g' } },
      { id:'inger', name:'ÃŽnger', price:33, image:'images/inger.jpg',
        desc:'Simbol al protecÈ›iei È™i luminii.',
        specs:{ material:'CearÄƒ', size:'9.5 Ã— 4.5 cm', weight:'~150 g' } },
      { id:'logodna', name:'LogodnÄƒ', price:33, image:'images/logodna.jpg',
        desc:'RomanticÄƒ È™i elegantÄƒ.',
        specs:{ material:'CearÄƒ', size:'H 9.5 cm, L 4 cm', weight:'~120 g' } },
      { id:'floarea-soarelui', name:'Floarea-soarelui', price:33, image:'images/lumanare_floarea-soarelui.png',
        desc:'Soare mic pentru casÄƒ.',
        specs:{ material:'CearÄƒ + ipsos', size:'farfurie 10 Ã— 5 cm', weight:'~100 g' } },

      { id:'peisaj', name:'Peisaj', price:99, image:'images/peisaj.jpg',
        desc:'Texturi blÃ¢nde È™i luminÄƒ caldÄƒ.',
        specs:{ material:'CearÄƒ', size:'suport 25 Ã— 9 cm', weight:'~300 g' } },
      { id:'peisajiarna', name:'Peisaj de iarnÄƒ', price:99, image:'images/peisajiarna.jpg',
        desc:'Farmecul iernii Ã®n cearÄƒ.',
        specs:{ material:'CearÄƒ', size:'suport 25 Ã— 9 cm', weight:'~300 g' } },
      { id:'indragostiti', name:'ÃŽndrÄƒgostiÈ›i', price:99, image:'images/indragostiti.jpg',
        desc:'DouÄƒ inimi, aceeaÈ™i luminÄƒ.',
        specs:{ material:'CearÄƒ', size:'Ã˜ 15 cm', weight:'~280 g' } }
    ];

    // ===== UI =====
    const grid   = document.getElementById('prod-list');
    const yearEl = document.getElementById('year');

    // Modal elems
    const modal  = document.getElementById('prod-modal');
    const mImg   = document.getElementById('m-img');
    const mTitle = document.getElementById('m-title');
    const mDesc  = document.getElementById('m-desc');
    const mSpecs = document.getElementById('m-specs');
    const mPrice = document.getElementById('m-price');
    const mAdd   = document.getElementById('m-add');
    const mClose = document.getElementById('m-close');
    let current  = null;

    function fmtSpecs(s){
      if(!s) return '';
      const parts = [
        s.material ? `Material: ${s.material}` : '',
        s.size     ? `Dimensiuni: ${s.size}`   : '',
        s.weight   ? `Greutate: ${s.weight}`   : '',
        s.notes    ? `Note: ${s.notes}`        : ''
      ].filter(Boolean);
      return parts.join(' â€¢ ');
    }

    function render(list){
      grid.innerHTML = list.map(p=>`
        <article class="card" data-id="${p.id}">
          <img class="thumb" src="${p.image}" alt="${p.name}">
          <div class="body">
            <div class="top"><h3>${p.name}</h3><span class="price">${p.price} RON</span></div>
            <p class="desc">${p.desc||''}</p>
            <button class="btn primary add" data-id="${p.id}">AdaugÄƒ Ã®n coÈ™</button>
          </div>
        </article>
      `).join('');
      bindEvents();
    }

    function bindEvents(){
      // click pe pozÄƒ -> deschide pop-up
      document.querySelectorAll('.thumb').forEach(img=>{
        img.addEventListener('click', ()=>{
          const id = img.closest('.card').dataset.id;
          const p  = PRODUCTS.find(x=>x.id===id);
          if(!p) return;
          current = p;
          mImg.src = p.image; mImg.alt = p.name;
          mTitle.textContent = p.name;
          mDesc.textContent  = p.desc || '';
          mSpecs.textContent = fmtSpecs(p.specs || {});
          mPrice.textContent = `${Number(p.price).toFixed(2)} RON`;
          modal.classList.add('open');
        });
      });

      // buton "AdaugÄƒ Ã®n coÈ™" din listÄƒ
      document.querySelectorAll('.add').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const p = PRODUCTS.find(x=>x.id===btn.dataset.id);
          if(!p) return;
          if (window.MSACart?.addToCart) {
            MSACart.addToCart({ id:p.id, name:p.name, price:p.price, image:p.image }, 1);
          }
          btn.textContent='AdÄƒugat!'; setTimeout(()=>btn.textContent='AdaugÄƒ Ã®n coÈ™',900);
          updateBadgeFallback();
        });
      });
    }

    // buton din pop-up
    mAdd.addEventListener('click', ()=>{
      if(!current) return;
      if (window.MSACart?.addToCart) {
        MSACart.addToCart({ id:current.id, name:current.name, price:current.price, image:current.image }, 1);
      }
      modal.classList.remove('open');
      updateBadgeFallback();
    });

    // Ã®nchidere pop-up (X sau fond)
    mClose.addEventListener('click', ()=> modal.classList.remove('open'));
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('open'); });

    // badge coÈ™ fallback (dacÄƒ nu existÄƒ funcÈ›ia din cart.js)
    function updateBadgeFallback(){
      const el = document.getElementById('cart-count');
      if (window.MSACart?.updateCartCountBadge) { MSACart.updateCartCountBadge(); return; }
      try{
        const cart = JSON.parse(localStorage.getItem('msa_cart') || '[]');
        el.textContent = cart.reduce((s,i)=> s + (i.qty||1), 0);
      }catch(_){ el.textContent = '0'; }
    }

    // cÄƒutare simplÄƒ (opÈ›ional)
    const q       = document.getElementById('search');
    const suggest = document.getElementById('suggest');
    function buildSuggestions(list){
      if(!q.value.trim()){ suggest.classList.add('hidden'); suggest.innerHTML=''; return; }
      suggest.innerHTML = list.map(p=>`<div class="suggest-item" data-id="${p.id}">${p.name}</div>`).join('') || `<div class="suggest-item" data-id="">Nicio potrivire</div>`;
      suggest.classList.remove('hidden');
    }
    if(q){
      q.addEventListener('input', ()=>{
        const v = q.value.trim().toLowerCase();
        if(v.length<2){ buildSuggestions([]); return; }
        const hits = PRODUCTS.filter(p => p.name.toLowerCase().includes(v) || (p.desc||'').toLowerCase().includes(v)).slice(0,8);
        buildSuggestions(hits);
      });
      document.addEventListener('click', (e)=>{
        if(e.target.classList.contains('suggest-item')){
          const id = e.target.dataset.id;
          suggest.classList.add('hidden');
          if(!id) return;
          const found = PRODUCTS.find(p=>p.id===id);
          if(found) render([found]);
          q.blur();
        }else{
          if(!e.target.closest('.search-wrap')) suggest.classList.add('hidden');
        }
      });
    }

    // init
    document.addEventListener('DOMContentLoaded', ()=>{
      render(PRODUCTS);
      const y = document.getElementById('year'); if(y) y.textContent = new Date().getFullYear();
      if (window.MSACart?.readCart) MSACart.readCart();
      updateBadgeFallback();
    });
  </script>
</body>
</html>
